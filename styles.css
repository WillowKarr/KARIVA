:root{
  --bg: #0B0F0D;
  --black: #000000;
  --bg2:#0D1411;

  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --muted2: rgba(255,255,255,.56);

  --light: #F2F3F4;
  --darkText:#0B0F0D;

  --accent:#C9FF57;
  --accentHover: color-mix(in srgb, var(--accent) 85%, #0B0F0D 15%);
  --stroke: rgba(255,255,255,.12);

  --r: 12px;
  --r2: 10px;
  --r3: 8px;

  --shadow: 0 22px 70px rgba(0,0,0,.36);
  --shadowSoft: 0 14px 42px rgba(0,0,0,.26);

  --container: 1160px;

  --tFast: 140ms;
  --tMed: 220ms;
  --tSlow: 420ms;
  --ease: cubic-bezier(.16,1,.3,1);

  /* для плавных стыков фонов */
  --fadeEdge: 120px;
  --glow: rgba(201,255,87,.14);
  --glow2: rgba(201,255,87,.10);
}

@media (prefers-reduced-motion: reduce){
  :root{ --tFast: 1ms; --tMed: 1ms; --tSlow: 1ms; --fadeEdge: 0px; }
}

/* Hide default cursor everywhere */
html, body, *{ cursor: none !important; }
@media (hover: none), (pointer: coarse){
  html, body, *{ cursor: auto !important; }
  .cursor, .cursor-follower{ display:none !important; }
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: 17px;
  line-height: 1.75;
  color: var(--text);
  overflow-x:hidden;
  background: var(--bg);
}

img{ max-width:100%; display:block; }
a{ color:inherit; text-decoration:none; }
button{ font:inherit; color:inherit; }
button{ border:0; background: transparent; }

.skip-link{
  position:absolute; left:-999px; top:auto;
  width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:16px; top:16px; width:auto; height:auto;
  padding:10px 14px;
  border-radius: 10px;
  background: var(--light);
  color: var(--darkText);
  z-index: 9999;
}

.anchor{ position: relative; top:-92px; }

.container{
  width: min(var(--container), calc(100% - 40px));
  margin: 0 auto;
}

/* ===== Sections (единая система фонов, без стыков) ===== */
.section{ padding: clamp(76px, 7.2vw, 132px) 0; position: relative; }
.section--tight{ padding: clamp(64px, 6.2vw, 108px) 0; }
.section--path{ background: var(--accent); color: var(--darkText); }

/* Базовый “клей” между секциями — мягкое затемнение краёв */
.s-hero,
.s-about,
.s-help,
.s-why,
.s-process,
.s-portfolio,
.s-contacts{
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.s-hero::after,
.s-about::after,
.s-help::after,
.s-why::after,
.s-process::after,
.s-portfolio::after,
.s-contacts::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;
  background:
    linear-gradient(180deg,
      rgba(0,0,0,.65) 0%,
      rgba(0,0,0,0) var(--fadeEdge),
      rgba(0,0,0,0) calc(100% - var(--fadeEdge)),
      rgba(0,0,0,.65) 100%
    );
  opacity: .55;
}

.s-hero > .container,
.s-about > .container,
.s-help > .container,
.s-why > .container,
.s-process > .container,
.s-portfolio > .container,
.s-contacts > .container{
  position: relative;
  z-index: 1;
}

/* Typography */
.h2{
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 800;
  line-height: 1.06;
  font-size: clamp(34px, 4.6vw, 56px);
  margin: 0;
}
.h2--dark{ color: var(--darkText); }

.text{
  margin: 0 0 14px;
  max-width: 70ch;
  color: var(--muted);
}
.text--muted{ color: var(--muted2); }

.section__head{ margin-bottom: clamp(30px, 3.4vw, 58px); }
.section__head--onAccent{ margin-bottom: clamp(28px, 3.2vw, 54px); }

/* ===== Header ===== */
.header{
  position: fixed;
  inset: 14px 0 auto 0;
  z-index: 1200;
  pointer-events: none;
}
.header__inner{
  pointer-events: auto;
  width: min(var(--container), calc(100% - 24px));
  margin: 0 auto;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 18px;
  padding: 12px 22px;

  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(16,22,18,.55);
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 35px rgba(0,0,0,.28);
}

.brand{
  width: auto;
  height: 44px;
  padding: 0 10px;
  border-radius: 999px;
  display:flex;
  align-items:center;
}
.brand__img{
  height: 20px;
  width: auto;
  max-width: 180px;
  object-fit: contain;
  filter: brightness(1.05) contrast(1.05);
}

.nav__list{
  display:flex;
  align-items:center;
  gap: 30px;
  padding:0; margin:0;
  list-style:none;
}
.nav__link{
  color: var(--text);
  font-weight: 500;
  font-size: 13px;
  letter-spacing: .10em;
  text-transform: uppercase;
  opacity: .90;
  position: relative;
  padding: 12px 8px;
  transition: color var(--tFast) var(--ease), opacity var(--tFast) var(--ease);
}
.nav__link::after{
  content:"";
  position:absolute;
  left: 50%;
  bottom: 4px;
  width: 0%;
  height: 2px;
  background: var(--accent);
  transform: translateX(-50%);
  transition: width var(--tMed) var(--ease);
  border-radius: 2px;
}
.nav__link:hover{ color: var(--accent); opacity: 1; }
.nav__link:hover::after{ width: 76%; }
.nav__link:focus-visible{
  outline: 2px solid rgba(201,255,87,.6);
  outline-offset: 6px;
  border-radius: 10px;
}

.burger{
  width: 46px; height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  display:none;
  align-items:center;
  justify-content:center;
  gap: 6px;
  flex-direction: column;
}
.burger span{
  width: 18px; height: 2px;
  background: rgba(255,255,255,.88);
  border-radius: 999px;
  transition: transform var(--tMed) var(--ease), opacity var(--tMed) var(--ease);
}
.burger.is-open span:nth-child(1){ transform: translateY(8px) rotate(45deg); }
.burger.is-open span:nth-child(2){ opacity: 0; }
.burger.is-open span:nth-child(3){ transform: translateY(-8px) rotate(-45deg); }

.nav-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  z-index: 1100;
}

@media (max-width: 820px){
  .burger{ display:flex; border: 0; box-shadow:none; background: none;}
  .nav{
    position: fixed;
    top: 70px;
    left: 50%;
    transform: translateX(-50%);
    width: min(520px, calc(100% - 24px));
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(16,22,18,.92);
    backdrop-filter: blur(12px);
    box-shadow: 0 24px 70px rgba(0,0,0,.55);
    padding: 14px;
    display:none;
    z-index: 1150;
  }
  .nav.is-open{ display:block; }
  .nav__list{ flex-direction: column; gap: 10px; }
  .nav__link{
   display:block;
    padding: 12px 14px;
    border-radius: 12px;
    text-align:center;
    background: transparent; /* было rgba(...) */
    border: 0;
  }
  .nav__link::after{ display:none; }
}

/* ===== Buttons ===== */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;

  min-height: 46px;
  padding: 10px 16px;

  border-radius: var(--r2);
  font-weight: 700;
  letter-spacing: .02em;
  font-size: 14px;
  border: 1px solid transparent;
  transition:
    transform var(--tFast) var(--ease),
    background var(--tFast) var(--ease),
    border-color var(--tFast) var(--ease),
    color var(--tFast) var(--ease),
    filter var(--tFast) var(--ease);
  will-change: transform;
}
.btn--hero{
  padding-top: 14px;
  padding-bottom: 14px;
  min-height: 54px;
}
.btn--accent{
  background: var(--accent);
  color: var(--darkText);
  border-color: rgba(11,15,13,.18);
}
.btn--accent:hover{
  transform: translateY(-1px);
  background: var(--accentHover);
}
.btn--primary{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.14);
}
.btn--primary:hover{
  transform: translateY(-1px);
  background: rgba(201,255,87,.14);
  border-color: rgba(201,255,87,.30);
}
.btn--case{
  min-height: 46px;
  padding: 10px 14px;
  font-weight: 700;
}

/* ===== HERO (GIF + dark overlay) ===== */
.hero{
  min-height: 100svh;
  display:flex;
  align-items:center;
  padding-top: 96px;
}
.hero__bg{
  position:absolute;
  inset:0;
  z-index:0;
  background:
    linear-gradient(180deg, rgba(11,15,13,.28), rgba(11,15,13,.92)),
    url("media/homebgpc.gif") center/cover no-repeat;
  filter: saturate(.92) contrast(1.06);
  transform: translateZ(0);
}
@media (max-width: 820px){
  .hero__bg{
    background:
      linear-gradient(180deg, rgba(11,15,13,.34), rgba(11,15,13,.95)),
      url("media/homebgmob.gif") center/cover no-repeat;
    background-position: 50% 20%;
  }
}

.hero__grid{
  position: relative;
  z-index: 1;
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap: clamp(18px, 4vw, 56px);
  align-items: end;
}
.hero__left{ display:grid; gap: 10px; }
.hero__right{ display:grid; gap: 18px; justify-items:start; }

.hero__name{
  margin: 0 0 6px;
  font-weight: 500;
  font-size: 12px;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(255,255,255,.74);
}
.hero__title{
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 800;
  line-height: 1.02;
  font-size: clamp(42px, 5.8vw, 74px);
  margin: 0;
  max-width: 18ch;
}
.hero__meta{
  display:flex;
  align-items:center;
  gap: 12px;
  margin-top: 4px;
}
.hero__line{
  width: 46px;
  height: 2px;
  background: rgba(201,255,87,.9);
  border-radius: 2px;
}
.hero__metaText{
  letter-spacing: .10em;
  text-transform: uppercase;
  font-size: 12px;
  color: rgba(255,255,255,.78);
}
.hero__lead{
  margin:0;
  max-width: 62ch;
  color: rgba(255,255,255,.82);
  font-size: clamp(16px, 2vw, 19px);
}
.hero__actions{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
}

/* (1) Новая версия сигнатуры без плашки */
.hero__signaturePlain{
  margin-top: clamp(22px, 3.6vw, 48px);
  display:flex;
  align-items:center;
  width: fit-content;
  padding: 0;            /* нет плашки */
  border: 0;
  background: transparent;
  backdrop-filter: none;
}
.sig__dots{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  margin-right: 18px;
}
.sig__dot{
  width: 6px; height: 6px;
  border-radius: 2px;
  background: rgba(201,255,87,.9);
  box-shadow: 0 0 0 6px rgba(201,255,87,.08);
}
.sig__text{
  font-size: 12px;
  font-weight: 500;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(255,255,255,.74);
}
@media (max-width: 980px){
  .hero__grid{ grid-template-columns: 1fr; align-items: start; }
  .hero__signaturePlain{ width: 100%; justify-content:center; }
}

/* ===== ABOUT (black + right-top green glow; left GIF blends) ===== */
.s-about{ background: var(--black); }
.about__bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(900px 620px at 86% 10%, rgba(201,255,87,.18), transparent 62%),
    radial-gradient(520px 420px at 96% 18%, rgba(201,255,87,.10), transparent 64%),
    linear-gradient(180deg, #000 0%, #000 100%);
  opacity: 1;
}
.about{
  display:grid;
  grid-template-columns: 0.92fr 1.08fr;
  gap: clamp(18px, 4vw, 56px);
  align-items: start;
}
@media (max-width: 920px){ .about{ grid-template-columns: 1fr; } }

.about__media{
  margin: 0;
  position: relative;
  overflow: hidden;
  border-radius: var(--r);
  background: #000;
}
.about__media--blend{
  box-shadow: 0 0 0 1px rgba(255,255,255,.06) inset, 0 20px 70px rgba(0,0,0,.55);
}
.about__img{
  width:100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: var(--r);
  background: #000;

  -webkit-mask-image: radial-gradient(circle at 50% 50%, #000 70%, transparent 100%);
  mask-image: radial-gradient(circle at 50% 50%, #000 70%, transparent 100%);

  filter: contrast(1.02) saturate(1.02);
}
.about__important{
  margin: 18px 0 16px;
  font-weight: 900;
  font-size: clamp(20px, 2.2vw, 24px);
  color: rgba(255,255,255,.95);
  letter-spacing: -0.01em;
}

.pixel-list{
  list-style:none;
  margin: 0 0 16px;
  padding: 0;
  display:grid;
  gap: 10px;
  max-width: 70ch;
}
.pixel-list li{
  position: relative;
  padding-left: 22px;
  color: var(--muted);
}
.pixel{
  position:absolute;
  left:0;
  top: .62em;
  width: 8px;
  height: 8px;
  border-radius: 2px;
  background: var(--accent);
  box-shadow: 0 0 0 6px rgba(201,255,87,.10);
  transform: translateY(-50%);
}
.fireflies .pixel{ animation: firefly 2.6s var(--ease) infinite; }
.fireflies li:nth-child(2) .pixel{ animation-delay: .2s; }
.fireflies li:nth-child(3) .pixel{ animation-delay: .45s; }
.fireflies li:nth-child(4) .pixel{ animation-delay: .7s; }

@keyframes firefly{
  0%   { transform: translate(-1px, -50%); opacity: .88; }
  25%  { transform: translate(3px, calc(-50% - 2px)); opacity: 1; }
  50%  { transform: translate(2px, calc(-50% + 2px)); opacity: .9; }
  75%  { transform: translate(-2px, calc(-50% - 1px)); opacity: 1; }
  100% { transform: translate(-1px, -50%); opacity: .88; }
}
@media (prefers-reduced-motion: reduce){
  .fireflies .pixel{ animation: none; }
}

.about__highlightWrap{ margin: 8px 0 0; }
.hl{
  display:inline-block;
  position: relative;
  padding: 10px 12px;
  background: rgba(0,0,0,.92);
  color: rgba(255,255,255,.96);
  overflow: hidden;
  isolation: isolate;
}
.hl::before{
  content:"";
  position:absolute;
  inset:0;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 1200ms cubic-bezier(.12,1,.24,1);
  z-index: -1;
}
.hl::after{
  content:"";
  position:absolute;
  inset:-20%;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.22) 45%, transparent 70%);
  transform: translateX(-120%);
  opacity: 0;
  z-index: -1;
  pointer-events:none;
}
.hl.is-on{ color: var(--darkText); transition: color 560ms cubic-bezier(.16,1,.3,1) 160ms; }
.hl.is-on::before{ transform: scaleX(1); }
.hl.is-on::after{
  opacity: .35;
  transform: translateX(120%);
  transition: transform 1400ms cubic-bezier(.16,1,.3,1) 120ms, opacity 300ms ease 120ms;
}

/* ===== PATH green ===== */
.timelineStack{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
@media (max-width: 1080px){ .timelineStack{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 620px){ .timelineStack{ grid-template-columns: 1fr; } }

.tcard{
  border-radius: var(--r);
  border: 1px solid rgba(11,15,13,.18);
  background: rgba(255,255,255,.35);
  backdrop-filter: blur(12px);
  padding: 18px 18px 20px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 26px 74px rgba(0,0,0,.18);
  z-index: var(--z, 1);
}
.tcard__meta{
  margin:0 0 10px;
  color: rgba(11,15,13,.85);
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: 12px;
  font-weight: 900;
}
.tcard__title{
  margin:0 0 10px;
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: clamp(17px, 1.25vw, 20px);
  line-height: 1.2;
  font-weight: 900;
  color: rgba(11,15,13,.95);
}
.tcard__text{
  margin:0;
  color: rgba(11,15,13,.78);
  font-size: 15px;
  line-height: 1.6;
}
.tcard--glitch{ animation: glitchJitter 2.9s steps(2, end) infinite; }
@keyframes glitchJitter{
  0%   { filter: none; }
  18%  { filter: none; }
  20%  { transform: translateX(2px) translateY(-1px); }
  21%  { transform: translateX(0) translateY(0); }
  50%  { filter: contrast(1.05) saturate(1.03); }
  55%  { transform: translateX(-2px) translateY(1px); }
  56%  { transform: translateX(0) translateY(0); }
  80%  { transform: translateX(-1px) translateY(-1px); }
  81%  { transform: translateX(0) translateY(0); }
  100% { filter: none; }
}
@media (prefers-reduced-motion: reduce){
  .tcard--glitch{ animation: none; }
}

/* ===== HELP ===== */
.s-help{ background: #000; }
.help__bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(760px 560px at 8% 26%, rgba(201,255,87,.18), transparent 62%),
    radial-gradient(760px 560px at 92% 40%, rgba(201,255,87,.18), transparent 62%),
    radial-gradient(560px 420px at 6% 82%, rgba(201,255,87,.10), transparent 64%),
    radial-gradient(560px 420px at 94% 86%, rgba(201,255,87,.10), transparent 64%),
    linear-gradient(180deg, #000 0%, #000 100%);
  opacity: 1;
}

.helpStack{
  display:grid;
  gap: 12px;
  max-width: 980px;
}

/* (2) Перевели левую часть на реальное изображение + сделали крупнее */
.helpCard{
  position: relative;
  display:grid;
  grid-template-columns: 220px 1fr;
  gap: 18px;
  align-items:center;

  border-radius: var(--r);
  border: 1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  backdrop-filter: blur(14px);
  padding: 18px 18px;
  box-shadow: var(--shadowSoft);
  overflow: hidden; /* чтобы медиа не вылезало */
  z-index: var(--z, 1);
}

.helpCard__media{
  margin: 0;
  width: 100%;
  height: 150px;
  border-radius: calc(var(--r) - 2px);
  overflow: hidden;
  background: transparent;          /* (2) без подложки */
  border: 0;                        /* (2) без обводки */
  box-shadow: none;                 /* (2) без свечения */
}
.helpCard__media img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: left center;
  transform: translateZ(0);
  filter: saturate(1.02) contrast(1.02);
}

.cardTitle{
  margin: 0 0 10px;
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  font-size: clamp(19px, 1.35vw, 22px);
  line-height: 1.2;
  letter-spacing: -0.01em;
}
.cardTitle--onDark{ color: rgba(255,255,255,.94); }
.helpCard .text{ margin: 0; }

@media (max-width: 740px){
  .helpCard{
    grid-template-columns: 1fr;
    padding: 16px;
  }
  .helpCard__media{
    height: 180px;
    border-radius: var(--r);
  }
  .helpCard__media img{
    object-position: center;
  }
}

/* ===== WHY (gif full screen) ===== */
.why{
  min-height: 110svh;
  display:flex;
  align-items:center;
  padding: clamp(28px, 4vw, 60px) 0;
  background: #000;
}

/* (3) Фон-гif растянут на весь блок, затемнён и с пониженной прозрачностью */
.why__bg{
  position:absolute;
  inset:0;
  z-index:0;
  background: url("media/binary.gif") center/cover no-repeat;
  filter: contrast(1.08) saturate(.9);
  opacity: .20; /* уменьшаем прозрачность */
}

/* (3) затемнение + зелёный градиент по центру должен читаться */
.s-why::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(900px 700px at 50% 50%, rgba(201,255,87,.16), transparent 58%),
    linear-gradient(180deg, rgba(0,0,0,.68), rgba(0,0,0,.92));
}

.why__inner{ position: relative; z-index: 1; }
.why__center{ max-width: 74ch; }
.why__lead{
  margin: 18px 0 0;
  font-size: clamp(16px, 2vw, 20px);
  line-height: 1.65;
  color: rgba(255,255,255,.84);
  max-width: 70ch;
}

/* Orbit */
.orbit{
  position: relative;
  margin-top: clamp(18px, 5vw, 60px);

  /* (4) увеличили безопасную высоту, чтобы карточки не "уезжали" в следующий блок */
  height: clamp(660px, 78vh, 900px);
  width: 100%;

  /* (4) добавили внутренний “воздух” снизу */
  padding-bottom: 26px;
}

.orbitCard{
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(300px, 70vw);
  transform:
    translate(-50%, -50%)
    rotate(var(--a))
    translateX(min(320px, 36vw))
    rotate(calc(var(--a) * -1));
}

/* (4) Именно “системную” карточку поднимаем выше, чтобы не касалась следующего блока */
.orbitCard--system{
  transform:
    translate(-50%, -50%)
    rotate(var(--a))
    translateX(min(320px, 36vw))
    rotate(calc(var(--a) * -1))
    translateY(-18px);
}

.orbitCard__inner{
  padding: 28px 24px;
  min-height: 118px;
  display:flex;
  border-radius: var(--r);
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(14px);
  box-shadow: var(--shadow);
  color: rgba(255,255,255,.90);
  font-weight: 800;
  line-height: 1.45;
  font-size: clamp(16px, 1.15vw, 18px);
}

.floaty{ animation: floaty 3.6s var(--ease) infinite; }
.orbitCard:nth-child(2){ animation-delay: .2s; }
.orbitCard:nth-child(3){ animation-delay: .45s; }
.orbitCard:nth-child(4){ animation-delay: .7s; }
.orbitCard:nth-child(5){ animation-delay: .9s; }

@keyframes floaty{
  0%   { transform:
    translate(-50%, -50%) rotate(var(--a))
    translateX(min(320px, 36vw)) rotate(calc(var(--a) * -1))
    translate(0px, 0px); }
  35%  { transform:
    translate(-50%, -50%) rotate(var(--a))
    translateX(min(320px, 36vw)) rotate(calc(var(--a) * -1))
    translate(6px, -5px); }
  70%  { transform:
    translate(-50%, -50%) rotate(var(--a))
    translateX(min(320px, 36vw)) rotate(calc(var(--a) * -1))
    translate(-5px, 6px); }
  100% { transform:
    translate(-50%, -50%) rotate(var(--a))
    translateX(min(320px, 36vw)) rotate(calc(var(--a) * -1))
    translate(0px, 0px); }
}
@media (prefers-reduced-motion: reduce){
  .floaty{ animation: none; }
}

/* mobile orbit becomes list */
@media (max-width: 860px){
  .orbit{
    height:auto;
    display:grid;
    gap: 12px;
    padding-bottom: 0;
  }
  .orbitCard{
    position: static;
    transform:none !important;
    width:100%;
    animation: none;
  }
  .orbitCard__inner{ padding: 18px; }
}

/* ===== PROCESS ===== */
.s-process{ background: #000; }
.process__bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(860px 620px at 88% 34%, rgba(201,255,87,.16), transparent 62%),
    linear-gradient(180deg, #000 0%, #000 100%);
}

.steps{
  display:grid;
  gap: 30px;              /* больше расстояние между шагами */
  max-width: 1180px;
}

.step{
  position: relative;
  padding: 18px 0 8px;
  border-radius: var(--r);
  overflow: visible;
}

/* линии между шагами */
.step__line{
 height: 1px;
  margin-left: clamp(78px, 7vw, 120px);
  margin-top: 22px;
  background: linear-gradient(90deg, rgba(201,255,87,.0), rgba(201,255,87,.32), rgba(201,255,87,.0));
  opacity: .7;
  transform-origin: left center;
  animation: lineBreath 2.8s var(--ease) infinite;
}
.step:nth-child(2) .step__line{ animation-delay: .2s; }
.step:nth-child(3) .step__line{ animation-delay: .35s; }
.step:nth-child(4) .step__line{ animation-delay: .5s; }

@keyframes lineBreath{
  0%, 100%{ transform: scaleX(.94); opacity: .55; }
  50%{ transform: scaleX(1); opacity: .9; }
}

/* (5) "плашки с цифрами" — делаем шире + контролируем чтобы не наслаивались */
.step__num{
  position:absolute;
  left: -4px;
  top: -8px;

  font-family: Sora, Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  letter-spacing: -0.06em;
  line-height: 1;

  /* как раньше — большая “прозрачная” цифра */
  font-size: clamp(78px, 10vw, 138px);
  color: rgba(201,255,87,.16);

  background: transparent;
  border: 0;
  box-shadow: none;
  width: auto;
  height: auto;

  pointer-events:none;
  user-select:none;

  transform: translate3d(0,0,0);
  animation: numFloat 3.6s var(--ease) infinite;
}

.step:nth-child(2) .step__num{ animation-delay: .15s; }
.step:nth-child(3) .step__num{ animation-delay: .3s; }
.step:nth-child(4) .step__num{ animation-delay: .45s; }
.step:nth-child(5) .step__num{ animation-delay: .6s; }

@keyframes numFloat{
  0%,100%{ transform: translate3d(0,0,0); }
  50%{ transform: translate3d(6px,-4px,0); }
}

.step__body{
   padding-left: clamp(78px, 7vw, 120px); /* чтобы большая цифра не мешала */
  padding-top: 12px;
  transform: none !important;
  will-change: auto;
}

.step__body::before{
content:"";
  position:absolute;
  /* делаем “плашку шага” шире */
  inset: -12px -28px -16px -28px;
  border-radius: var(--r);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 18px 60px rgba(0,0,0,.35);
  backdrop-filter: blur(12px);
  z-index: -1;
}

@media (prefers-reduced-motion: reduce){
  .step__num, .step__line{ animation: none; }
}

@media (max-width: 560px){
 .steps{ gap: 22px; max-width: 100%; }
  .step__num{ font-size: clamp(66px, 16vw, 110px); }
  .step__body{ padding-left: 62px; }
  .step__line{ margin-left: 62px; }
  .step__body::before{ inset: -10px -16px -14px -16px; }
}

/* ===== PORTFOLIO ===== */
.s-portfolio{ background: #000; }
.portfolio__bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(900px 700px at 50% 46%, rgba(201,255,87,.16), transparent 62%),
    linear-gradient(180deg, #000 0%, #000 100%);
}

/* (6) Кнопки ИИ/АРТ — более современный стиль + реальная картинка внутри */
.portfolioSwitch{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 18px;
}
@media (max-width: 720px){ .portfolioSwitch{ grid-template-columns: 1fr; } }

.pbtn{
  position: relative;
  min-height: 150px;
  border-radius: calc(var(--r) + 2px);
  overflow: hidden;

  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  box-shadow: var(--shadowSoft);

  display:grid;
  place-items:center;
  isolation: isolate;

  transition:
    transform var(--tFast) var(--ease),
    border-color var(--tFast) var(--ease),
    filter var(--tFast) var(--ease);
}

.pbtn__bg{
  position:absolute;
  inset:0;
  z-index:-2;
  background:
    radial-gradient(520px 240px at 20% 30%, rgba(255,255,255,.08), transparent 60%),
    radial-gradient(520px 240px at 80% 70%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}

.pbtn__img{
  position:absolute;
  inset:0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  z-index: -1;
  opacity: .92;
  transform: translateZ(0);
  filter: saturate(1.02) contrast(1.02);
}
.pbtn::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:-1;
  background: linear-gradient(135deg, rgba(0,0,0,.55), rgba(201,255,87,.10));
  opacity: .75;
}
.pbtn__label{
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  font-size: clamp(40px, 5vw, 64px);
  letter-spacing: .04em;
  color: rgba(255,255,255,.92);
  text-transform: uppercase;
  text-shadow: 0 10px 40px rgba(0,0,0,.55);
}

.pbtn::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:-1;
  background: linear-gradient(135deg, rgba(201,255,87,.0), rgba(201,255,87,.14));
  opacity: .65;
}

.pbtn:hover{
  transform: translateY(-2px);
  border-color: rgba(201,255,87,.34);
}
.pbtn:hover .pbtn__bg{
  background:
    radial-gradient(520px 240px at 20% 30%, rgba(201,255,87,.22), transparent 60%),
    radial-gradient(520px 240px at 80% 70%, rgba(201,255,87,.16), transparent 60%),
    linear-gradient(180deg, rgba(201,255,87,.14), rgba(255,255,255,.02));
}
.pbtn:hover::after{ opacity: .9; }

@media (max-width: 720px){
  .pbtn__img{
    width: min(260px, 56%);
    left: 14px;
    bottom: 10px;
    opacity: .88;
  }
}

.casesGrid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 12px;
}
.caseCard{
  grid-column: span 4;
  border-radius: var(--r);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  overflow:hidden;
  transition: transform var(--tFast) var(--ease), border-color var(--tFast) var(--ease);
}
.caseCard:hover{
  transform: translateY(-2px);
  border-color: rgba(201,255,87,.22);
}
@media (max-width: 1080px){ .caseCard{ grid-column: span 6; } }
@media (max-width: 720px){ .caseCard{ grid-column: span 12; } }

.caseCard__media{
  width: 100%;
  padding: 0;
  background: transparent;
  position: relative;
  display:block;
  cursor: none;
}
.caseCard__media img{
  width: 100%;
  height: 410px;
  object-fit: cover;
  transform: scale(1.01);
  transition: transform var(--tSlow) var(--ease);
}
.caseCard:hover .caseCard__media img{ transform: scale(1.06); }

.caseCard__overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  padding: 12px;
}
.caseCard__cta{ pointer-events: none; }

.caseCard__body{ padding: 14px 14px 16px; }
.caseCard__title{
  margin: 0 0 8px;
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  font-size: 20px;
  letter-spacing: -0.01em;
}
.caseCard__desc{ margin: 0; color: var(--muted2); line-height: 1.55; }

/* ===== MODAL ===== */
.modal{
  position: fixed;
  inset: 0;
  z-index: 2000;
  display:none;
}
.modal.is-open{ display:block; }
.modal__backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.88);
}
.modal__dialog{
  position: relative;
  height: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.modal__dialog::-webkit-scrollbar{ width: 0; height: 0; }

.modal__top{
  position: sticky;
  top: 14px;
  display:flex;
  justify-content: flex-end;
  padding: 14px 14px 0;
  z-index: 2100;
  pointer-events: none;
}
.modal__top .iconBtn{ pointer-events: auto; }

.iconBtn{
  width: 44px; height: 44px;
  border-radius: var(--r3);
  border: 1px solid rgba(255,255,255,.18);
  background: rgb(38 36 36 / 53%);
  backdrop-filter: blur(10px);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition: background var(--tFast) var(--ease), color var(--tFast) var(--ease), border-color var(--tFast) var(--ease);
}
.iconBtn:hover{
  background: var(--accent);
  border-color: rgba(11,15,13,.18);
  color: var(--darkText);
}

.modal__media{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 14px;
  padding: 12px 18px 18px;
  min-height: 70vh;
}

.caseHero{
  width: min(1200px, calc(100% - 120px));
  height: 70vh;
  max-height: 760px;
  position: relative;
}
.slider{
  width: 100%;
  height: 100%;
  overflow:hidden;
  border-radius: var(--r);
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
}
.slider__track{
  display:flex;
  height: 100%;
  transform: translateX(0%);
  transition: transform var(--tSlow) var(--ease);
  will-change: transform;
}
.slide{ min-width: 100%; height: 100%; }
.slide img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
}

/* desktop arrows */
.navBtn{
  width: 44px; height: 44px;
  border-radius: var(--r3);
  border: 1px solid rgba(255,255,255,.18);
  background: rgb(38 36 36 / 53%);
  backdrop-filter: blur(10px);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:
    opacity 700ms var(--ease),
    transform var(--tFast) var(--ease),
    background var(--tFast) var(--ease),
    color var(--tFast) var(--ease),
    border-color var(--tFast) var(--ease);
}
.navBtn:hover{
  background: var(--accent);
  border-color: rgba(11,15,13,.18);
  color: var(--darkText);
}
.modal.nav-hidden .navBtn{
  opacity: 0;
  pointer-events: none;
}

/* content */
.modal__content{
  width: min(1200px, calc(100% - 40px));
  margin: 0 auto;
  padding: 12px 0 30px;
  display:grid;
  gap: 12px;
}
.modal__head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}
.modal__title{
  margin:0;
  font-family: Sora, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  letter-spacing: -0.02em;
  font-size: clamp(20px, 2.6vw, 28px);
}
.modal__tags{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
}
.tag{
  height: 30px;
  display:inline-flex;
  align-items:center;
  padding: 0 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  font-size: 12px;
  font-weight: 600;
}
.modal__desc{
  margin:0;
  color: rgba(255,255,255,.76);
  max-width: 92ch;
}

/* (8) стили "смотреть больше кейсов" */
.modal__more{
  margin: 6px 0 0;
}
.caseMoreLink{
  display:inline-block;
  font-weight: 800;
  letter-spacing: .02em;
  color: rgba(201,255,87,.92);
  text-decoration: none;
  border-bottom: 1px solid rgba(201,255,87,.35);
  padding-bottom: 2px;
  transition: transform var(--tFast) var(--ease), color var(--tFast) var(--ease), border-color var(--tFast) var(--ease);
}
.caseMoreLink:hover{
  transform: translateY(-1px);
  color: rgba(201,255,87,1);
  border-color: rgba(201,255,87,.7);
}

body.modal-open{ overflow:hidden; }

/* ===== CONTACTS ===== */
.s-contacts{
  background:#000;
  padding-top: clamp(44px, 5vw, 72px);
  padding-bottom: clamp(54px, 6vw, 88px);
  min-height: 60vh;
  position: relative;
  overflow: hidden;
  isolation: isolate;
}
.contacts__bg{
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  background:
    radial-gradient(860px 620px at 72% 16%, rgba(201,255,87,.14), transparent 62%),
    linear-gradient(180deg, #000 0%, #000 100%);
}
.contacts{
  position: relative;
  z-index: 1;
  display:grid;
  gap: 14px;
}

.contactsPlaque{
  width: fit-content;
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
  box-shadow: 0 18px 60px rgba(0,0,0,.45);
  position: relative;
  z-index: 1;
}
.contactsPlaque__dot{
  width: 8px; height: 8px;
  border-radius: 2px;
  background: var(--accent);
  box-shadow: 0 0 0 6px rgba(201,255,87,.10);
}
.contactsPlaque__text{
  font-size: 12px;
  font-weight: 600;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(255,255,255,.80);
}

  position: relative;
  z-index: 2;

  border-radius: var(--r);
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, var(--ctaBg), var(--ctaBg2));
  box-shadow: 0 30px 90px rgba(0,0,0,.45);

  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap: 0;
  padding: 0;
  overflow: hidden;
}

/* (11) Разметка уже поменялась местами; на десктопе оставляем визуально “текст слева, фото справа” через grid */
@media (min-width: 861px){
  .ctaCard{
    grid-template-areas: "left photo";
  }
  .ctaCard__left{ grid-area: left; }
  .ctaPhoto{ grid-area: photo; }
}

.ctaCard__left{
  display:flex;
  flex-direction: column;
  justify-content: space-between;
  padding: clamp(12px, 1.6vw, 18px);
}

.ctaTop,
.ctaTitle{
  position: relative;
  z-index: 3;
}
.ctaTitle{ color: rgba(255,255,255,.96); }
.ctaText{
  margin: 12px 0 0;
  max-width: 62ch;
  color: rgba(255,255,255,.76);
  line-height: 1.65;
}

.ctaActions{
  display:flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 28px;
  padding-bottom: 2px;
}
.ctaActions--bottom{ margin-top: 34px; }

/* (10) Градиент между плашкой и фото — короче и резче */
.ctaPhoto{
  position: relative;
  height: 100%;
  min-height: 100%;
  align-self: stretch;

  overflow: hidden;
  border-radius: 0 var(--r) var(--r) 0;
  isolation: isolate;
}
.ctaPhoto img{
  width: 100%;
  height: 100%;
  display:block;
  object-fit: cover;
  object-position: center top;
  filter: saturate(1.02) contrast(1.02);
}

/* более резкий переход (короче), чтобы не “задевал лицо” */
.ctaPhoto::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:2;
  pointer-events:none;
  background: linear-gradient(
    90deg,
    rgba(11,15,13,1) 0%,
    rgba(11,15,13,1) 9%,
    rgba(11,15,13,.55) 13%,
    rgba(11,15,13,.12) 17%,
    rgba(11,15,13,0) 21%
  );
}

.ctaPhoto::after{
  content:"";
  position:absolute;
  inset:0;
  z-index: 1;
  pointer-events:none;
 filter: blur(6px);
   background:
    linear-gradient(
      90deg,
      rgba(11,15,13,.22) 0%,
      rgba(11,15,13,.14) 14%,
      rgba(11,15,13,0) 30%
    ),
    radial-gradient(70% 90% at 70% 50%, rgba(201,255,87,.12), transparent 62%);

  opacity: .65;
}

.ctaCard {
  display: flex;
  flex-direction: row-reverse;
}

@media (max-width: 860px){
  .ctaCard{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-areas:
      "photo"
      "left";
  }
  .ctaPhoto{
    grid-area: photo;
    border-radius: var(--r) var(--r) 0 0;
    min-height: 280px;
  }
  .ctaCard__left{
    grid-area: left;
    padding: 16px;
  }

  /* на мобилке градиент сверху-вниз или слева-право? оставляем слева-право, но тоже коротко */
  .ctaPhoto::before{
    background: linear-gradient(
      90deg,
      rgba(11,15,13,1) 0%,
      rgba(11,15,13,1) 10%,
      rgba(11,15,13,.65) 13%,
      rgba(11,15,13,.25) 16%,
      rgba(11,15,13,0) 20%
    );
  }

  /* (12) лёгкая донастройка адаптива: кнопки в колонку, чтобы было аккуратнее */
  .ctaActions{
    display:grid;
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .ctaActions .btn{
    width: 100%;
  }
}

/* ===== FOOTER ===== */
.footer{
  background: var(--accent);
  color: var(--darkText);
  padding: 34px 0;
  position: relative;
  z-index: 1;
}
.footer__inner{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 18px;
  flex-wrap: wrap;
}
.footer__contacts{ display:grid; gap: 10px; }
.footer__link{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  font-weight: 900;
}
.footer__social{
  margin-top: 12px;
  display:flex;
  gap: 10px;
}
.social{
  width: 42px; height: 42px;
  border-radius: var(--r3);
  border: 1px solid rgba(11,15,13,.18);
  background: rgba(11,15,13,.06);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition: transform var(--tFast) var(--ease), background var(--tFast) var(--ease);
}
.social:hover{
  transform: translateY(-1px);
  background: rgba(11,15,13,.10);
}
.footer__logo{
  height: 25px;
  width: auto;
  max-width: 240px;
  object-fit: contain;
}

/* ===== Reveal animations ===== */
.reveal{
  opacity: 0;
  transform: translateY(14px);
  transition:
    opacity var(--tSlow) var(--ease),
    transform var(--tSlow) var(--ease);
  transition-delay: var(--d, 0ms);
  will-change: transform, opacity;
}
.reveal[data-reveal="lr"]{ transform: translateX(-22px); }
.reveal[data-reveal="stack"]{
  transform: translateY(24px);
  filter: blur(2px);
}
.in-view{ opacity: 1; transform: translateY(0); filter: none; }
.in-view[data-reveal="lr"]{ transform: translateX(0); }
.in-view[data-reveal="stack"]{ transform: translateY(0); filter: none; }

@media (prefers-reduced-motion: reduce){
  .reveal{ opacity: 1; transform: none; filter:none; transition: none; }
}

/* ===== Custom cursor ===== */
.cursor,
.cursor-follower{
  position: fixed;
  left: 0; top: 0;
  pointer-events:none;
  transform: translate(-50%, -50%);
  z-index: 3000;
  mix-blend-mode: difference;
}
.cursor{
  width: 10px;
  height: 10px;
  background: rgba(255,255,255,.92);
  border-radius: 3px;
}
.cursor-follower{
  width: 22px;
  height: 22px;
  border: 1px solid rgba(255,255,255,.85);
  border-radius: 6px;
  transition: transform var(--tFast) var(--ease), border-color var(--tFast) var(--ease);
}
body.cursor-hover .cursor-follower{
  border-color: rgba(201,255,87,.95);
}

@media (max-width: 520px){
  .section--path .h2{
    font-size: 28px;
    line-height: 1.08;
    letter-spacing: -0.02em;
    word-break: break-word;
  }
}
@media (max-width: 720px){
  .pbtn__img{
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }
}

@media (max-width: 860px){
  .ctaCard__left{
    padding: 22px 18px 18px;
    gap: 16px;
  }
  .ctaTop{ padding-top: 6px; }
  .ctaText{ margin-top: 14px; }
  .ctaActions{ margin-top: 22px; gap: 12px; }
}

@media (max-width: 720px){

  /* делаем сетку: стрелка | слайдер | стрелка */
  .modal__media{
    grid-template-columns: 46px 1fr 46px !important;
    align-items: center !important;
    gap: 10px !important;
    padding: 10px 10px 14px !important;
    min-height: auto !important;
    position: relative;
    top: -40px;
  }

  .modal__content{
    position: relative;
    top: -40px;
  }

  /* слайдер в центре и реально “жирный” */
  .caseHero{
    width: 100% !important;
    height: 78vh !important;
    max-height: none !important;
  }

  .slider{
    width: 100% !important;
    height: 100% !important;
    border-radius: 14px;
  }

  /* стрелки включаем и выносим в боковые колонки */
  .navBtn{
    display: inline-flex !important;
    position: static !important;
    width: 46px;
    height: 46px;
    border-radius: 12px;
    z-index: 10;
  }

  /* гарантируем расположение по сетке */
  .navBtn--prev{ position: absolute !important; left: 16px; }
  .caseHero{ grid-column: 2 !important; }
  .navBtn--next{ position: absolute !important; right: 16px; }

  /* картинку центрируем (у тебя уже стоит center center — оставляем) */
  .slide img{
    object-position: center center !important;
  }
}

/* супер маленькие экраны */
@media (max-width: 380px){
  .modal__media{
    grid-template-columns: 40px 1fr 40px !important;
    gap: 8px !important;
    padding: 8px 8px 12px !important;
  }
  .navBtn{ width: 40px; height: 40px; border-radius: 10px; }
  .caseHero{ height: 72vh !important; }
}


